{"ast":null,"code":"class API {\n  constructor(_ref) {\n    let {\n      baseUrl,\n      headers\n    } = _ref;\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n  }\n  _checkError(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Ошибка: ${res.status}`);\n  }\n  async getUserInfo() {\n    const res = await fetch(`${this._baseUrl}/users/me`, {\n      method: \"GET\",\n      headers: this._headers\n    });\n    return this._checkError(res);\n  }\n  async getCards() {\n    const res = await fetch(`${this._baseUrl}/cards`, {\n      method: \"GET\",\n      headers: this._headers\n    });\n    return this._checkError(res);\n  }\n  async editProfile(data) {\n    const res = await fetch(`${this._baseUrl}/users/me`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.name,\n        about: data.job\n      })\n    });\n    return this._checkError(res);\n  }\n  async addNewCard(data) {\n    const res = await fetch(`${this._baseUrl}/cards`, {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.title,\n        link: data.url\n      })\n    });\n    return this._checkError(res);\n  }\n  async deleteCard(id) {\n    const res = await fetch(`${this._baseUrl}/cards/${id}`, {\n      method: \"DELETE\",\n      headers: this._headers\n    });\n    return this._checkError(res);\n  }\n  async addLike(id) {\n    const res = await fetch(`${this._baseUrl}/cards/${id}/likes`, {\n      method: \"PUT\",\n      headers: this._headers\n    });\n    return this._checkError(res);\n  }\n  async deleteLike(id) {\n    const res = await fetch(`${this._baseUrl}/cards/${id}/likes`, {\n      method: \"DELETE\",\n      headers: this._headers\n    });\n    return this._checkError(res);\n  }\n  async editAvatar(data) {\n    const res = await fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: data.avatar\n      })\n    });\n    return this._checkError(res);\n  }\n  async changeLikeCard(cardId, isLiked) {\n    if (isLiked) {\n      const res = await fetch(`${this._baseUrl}/cards/${cardId}/likes`, {\n        method: \"PUT\",\n        headers: this._headers\n      });\n      return this._getResponse(res);\n    } else {\n      const res_1 = await fetch(`${this._baseUrl}/cards/${cardId}/likes`, {\n        method: \"DELETE\",\n        headers: this._headers\n      });\n      return this._checkError(res_1);\n    }\n  }\n}\nconst api = new API({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-56',\n  headers: {\n    authorization: '5dc5c8be-be79-400a-b4fa-a8894eb1d6c6',\n    'Content-type': 'application/json'\n  }\n});\nexport default api;","map":{"version":3,"names":["API","constructor","baseUrl","headers","_baseUrl","_headers","_checkError","res","ok","json","Promise","reject","status","getUserInfo","fetch","method","getCards","editProfile","data","body","JSON","stringify","name","about","job","addNewCard","title","link","url","deleteCard","id","addLike","deleteLike","editAvatar","avatar","changeLikeCard","cardId","isLiked","_getResponse","res_1","api","authorization"],"sources":["/Users/maksimantonov/mesto-react/src/utils/api.js"],"sourcesContent":["class API {\n    constructor({baseUrl, headers}){\n        this._baseUrl = baseUrl;\n        this._headers = headers;\n    }\n\n    _checkError(res){\n        if(res.ok){\n            return res.json();\n        }\n        return Promise.reject(`Ошибка: ${res.status}`);\n    }\n\n    async getUserInfo(){\n        const res = await fetch(`${this._baseUrl}/users/me`, {\n            method: \"GET\",\n            headers: this._headers\n        });\n        return this._checkError(res);\n    }\n\n    async getCards(){\n        const res = await fetch(`${this._baseUrl}/cards`, {\n            method: \"GET\",\n            headers: this._headers\n        });\n        return this._checkError(res);\n    }\n\n    async editProfile(data){\n        const res = await fetch(`${this._baseUrl}/users/me`, {\n            method: \"PATCH\",\n            headers: this._headers,\n            body: JSON.stringify({\n                name: data.name,\n                about: data.job\n            })\n        });\n        return this._checkError(res);\n    }\n\n    async addNewCard(data){\n        const res = await fetch(`${this._baseUrl}/cards`, {\n            method: \"POST\",\n            headers: this._headers,\n            body: JSON.stringify({\n                name: data.title,\n                link: data.url,\n            })\n        });\n        return this._checkError(res);\n    }\n\n    async deleteCard(id){\n        const res = await fetch(`${this._baseUrl}/cards/${id}`, {\n            method: \"DELETE\",\n            headers: this._headers\n        });\n        return this._checkError(res);\n    }\n\n    async addLike(id){\n        const res = await fetch(`${this._baseUrl}/cards/${id}/likes`, {\n            method: \"PUT\",\n            headers: this._headers\n        });\n        return this._checkError(res);\n    }\n\n    async deleteLike(id) {\n        const res = await fetch(`${this._baseUrl}/cards/${id}/likes`, {\n            method: \"DELETE\",\n            headers: this._headers\n        });\n        return this._checkError(res);\n    }\n\n    async editAvatar(data){\n        const res = await fetch(`${this._baseUrl}/users/me/avatar`, {\n            method: \"PATCH\",\n            headers: this._headers,\n            body: JSON.stringify({\n                avatar: data.avatar\n            })\n        });\n        return this._checkError(res);\n    }\n\n    async changeLikeCard(cardId, isLiked) {\n        if (isLiked) {\n            const res = await fetch(`${this._baseUrl}/cards/${cardId}/likes`, {\n                method: \"PUT\",\n                headers: this._headers,\n            });\n            return this._getResponse(res);\n        } else {\n            const res_1 = await fetch(`${this._baseUrl}/cards/${cardId}/likes`, {\n                method: \"DELETE\",\n                headers: this._headers,\n            });\n            return this._checkError(res_1);\n        }\n    }\n}\n\nconst api = new API({\n    baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-56',\n    headers: {\n      authorization: '5dc5c8be-be79-400a-b4fa-a8894eb1d6c6',\n      'Content-type': 'application/json',\n    },\n  });\n\n  export default api;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}